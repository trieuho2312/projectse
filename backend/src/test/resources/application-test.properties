spring.application.name=project_20251_backend_test

# Disable Spring Boot banner in tests
spring.main.banner-mode=off

# H2 Database for testing
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;MODE=PostgreSQL
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# Disable Flyway for tests (Hibernate handles schema creation)
spring.flyway.enabled=false

# JPA
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.properties.hibernate.format_sql=false
# Disable open-in-view warning in tests
spring.jpa.open-in-view=false
# Remove explicit dialect setting (Hibernate auto-detects from database-platform)
spring.jpa.properties.hibernate.dialect=

# H2 Console
spring.h2.console.enabled=true

# JWT Test Keys
jwt.signerKey=test-signer-key-for-ci-cd-pipeline-minimum-256-bits-long-key-for-testing-only
jwt.valid-duration=60
jwt.refreshable-duration=7

# Disable email sending in tests
spring.mail.host=localhost
spring.mail.port=1025
spring.mail.username=test
spring.mail.password=test

# Logging Configuration for Tests
# Reduce log noise during test execution
logging.level.root=WARN
logging.level.com.example.backend=WARN
# Suppress expected ERROR logs from exception handler in tests (these are intentional test scenarios)
logging.level.com.example.backend.exception.GlobalExceptionHandler=WARN
# Suppress expected ERROR logs from EmailService in tests (testing error handling)
logging.level.com.example.backend.service.EmailService=WARN
# Suppress expected ERROR/WARN logs from ShippingService in tests (testing error handling)
logging.level.com.example.backend.service.ShippingService=WARN
# Reduce service INFO logs
logging.level.com.example.backend.service=WARN
# Reduce Spring Boot startup logs
logging.level.org.springframework.boot=WARN
logging.level.org.springframework.test=WARN
logging.level.org.springframework.test.context=WARN
# Reduce Hibernate logs (suppress deprecation warnings)
logging.level.org.hibernate=WARN
logging.level.org.hibernate.orm.deprecation=ERROR
# Reduce Spring Security logs
logging.level.org.springframework.security=WARN
# Reduce Spring Data JPA logs
logging.level.org.springframework.data=WARN
# Suppress ApplicationInitConfig warnings in tests (admin user creation is expected)
logging.level.com.example.backend.configuration.ApplicationInitConfig=ERROR